<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Blackjack (Flash via Ruffle)</title>
  <meta name="robots" content="noindex,nofollow" />

  <style>
    html,body {background:#000;width:100%;height:100%;margin:0;padding:0;overflow:hidden;}

    /* Universal UGS loader */
    #loadingScreen {
      position:fixed;inset:0;background:#fff;display:flex;align-items:center;justify-content:center;
      flex-direction:column;z-index:9999;opacity:1;transition:opacity .3s ease;
    }
    #loadingScreen img {max-width:300px;margin-bottom:20px;}
    #loadingProgress {width:300px;height:20px;background:transparent;border-radius:10px;overflow:hidden;}
    #loadingBar {width:0%;height:100%;background:#4caf50;border-radius:10px;animation:decorLoad 2.2s ease forwards;}
    @keyframes decorLoad {from{width:0%}to{width:100%}}
    #loadingScreen.hide {opacity:0;pointer-events:none;}

    #wrap {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000;}
    ruffle-player, .ruffle-player {width:100%;height:100%;max-width:100vw;max-height:100vh;}
  </style>

  <script src="https://cdn.jsdelivr.net/gh/u-cvlassrom-y/google@main/ruffle.js"></script>
</head>
<body>
  <!-- Loader -->
  <div id="loadingScreen">
    <img src="https://cdn.jsdelivr.net/gh/TOGZ819/togz8.com/media.png" alt="Loading Logo">
    <div id="loadingProgress"><div id="loadingBar"></div></div>
  </div>

  <!-- Game container -->
  <div id="wrap"></div>

  <script>
    // Hide loader with fade animation
    function hideLoadingScreen(){
      const s=document.getElementById("loadingScreen");
      if(!s) return;
      s.classList.add("hide");
      setTimeout(()=>{ if(s&&s.parentNode) s.parentNode.removeChild(s); },350);
    }

    (function(){
      const ruffleReady=()=>new Promise(res=>{
        if(window.RufflePlayer) return res();
        const check=setInterval(()=>{
          if(window.RufflePlayer){clearInterval(check);res();}
        },50);
      });

      ruffleReady().then(()=>{
        const ruffle=window.RufflePlayer.newest();
        const player=ruffle.createPlayer();
        player.style.width="100%";
        player.style.height="100%";
        player.config={
          allowScriptAccess:false,
          autoplay:"auto",
          unmuteOverlay:"visible",
          openUrlMode:"confirm"
        };
        document.getElementById("wrap").appendChild(player);
        player.load("https://cdn.jsdelivr.net/gh/bubbls/UGS-file-encryption@1b4d236a0c262a78cd71ea796f519b58d870dc21/blackjack.swf")
          .finally(()=>setTimeout(hideLoadingScreen,2500)); // fade after load
      });

      // fallback hide
      setTimeout(hideLoadingScreen,10000);
    })();
  </script>
</body>
</html>
